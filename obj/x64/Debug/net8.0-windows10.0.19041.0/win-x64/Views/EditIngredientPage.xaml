<Page
    x:Class="RecipesWinUI.Views.EditIngredientPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:RecipesWinUI.ViewModels" xmlns:converters="using:RecipesWinUI.Converters" xmlns:controls="using:RecipesWinUI.Controls">

    <Page.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Page.Resources>

    <Grid Background="#FFE8D8B8" Padding="24">

        <Border Background="#FFF5E4C1"
                BorderBrush="#FFD7C0A1"
                BorderThickness="2"
                CornerRadius="12"
                Padding="24"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Width="500">

            <StackPanel Spacing="20">

                <TextBlock Text="Összetevő módosítása"
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#FF4B3A2E"
                           HorizontalAlignment="Center"/>

                <StackPanel>
                    <TextBlock Text="Név"
                               Foreground="#FF4B3A2E"
                               FontWeight="SemiBold"/>
                    
                    <TextBox PlaceholderText="Összetevő neve"
                             Text="{Binding EditedName, Mode=TwoWay}"
                             FontSize="18"
                             BorderThickness="0"
                             Padding="12,6"/>
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Kalória / 100g"
                               Foreground="#FF4B3A2E"
                               FontWeight="SemiBold"/>

                    <TextBox Text="{Binding EditedCalorie, Mode=TwoWay}"
                             PlaceholderText="pl. 52"
                             FontSize="18"
                             BorderThickness="0"
                             Padding="12,6"/>
                </StackPanel>

                <StackPanel>
                    <TextBlock Text="Fehérje / 100g"
                               Foreground="#FF4B3A2E"
                               FontWeight="SemiBold"/>

                    <TextBox Text="{Binding EditedProtein, Mode=TwoWay}"
                             PlaceholderText="pl. 13"
                             FontSize="18"
                             BorderThickness="0"
                             Padding="12,6"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            Spacing="12"
                            VerticalAlignment="Center">

                    <TextBlock Text="Miben mérhető az összetevő?"
                               FontWeight="SemiBold"
                               Foreground="#FF4B3A2E"
                               Margin="0,5,0,0"/>

                    <ComboBox x:ConnectionId='5' x:Name="MeasurementComboBox"
                              Width="140"
                              VerticalAlignment="Center"
                              Margin="10,0,0,0"
                              ItemsSource="{Binding Units}"
                              DisplayMemberPath="Label"
                              SelectedItem="{Binding SelectedUnit, Mode=TwoWay}" />

                </StackPanel>

                <StackPanel Margin="0,0,0,-10">
                    <TextBlock Text="Mérhető darabban?"
                               Foreground="#FF4B3A2E"
                               FontWeight="SemiBold"/>
                    <ToggleSwitch IsOn="{Binding EditedCanBeMeasuredInPiece, Mode=TwoWay}"
                                  OffContent="Nem"
                                  OnContent="Igen"/>
                </StackPanel>

                <Grid Visibility="{Binding EditedCanBeMeasuredInPiece, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Darab súlya (g)"
                               Foreground="#FF4B3A2E"
                               FontWeight="SemiBold"/>

                    <TextBox Grid.Row="1"
                             Text="{Binding EditedOnePieceWeigh, Mode=TwoWay}"
                             PlaceholderText="pl. 47"
                             FontSize="18"
                             BorderThickness="0"
                             Padding="12,6"/>
                </Grid>

                <StackPanel Orientation="Horizontal" Spacing="16"
                            HorizontalAlignment="Center">

                    <Button x:ConnectionId='3' Content="Mégse"
                            Width="120"
                            Padding="12,6"
                            CornerRadius="6"
                                                />

                    <Button x:ConnectionId='4' Content="Mentés"
                            Width="120"
                            Padding="12,6"
                            Background="#FFE5C99F"
                            Foreground="#FF4B3A2E"
                            CornerRadius="6"
                                              />

                </StackPanel>

            </StackPanel>

        </Border>
        
        <controls:ConfirmPopup x:ConnectionId='2' x:Name="Popup"/>
        
    </Grid>
</Page>

